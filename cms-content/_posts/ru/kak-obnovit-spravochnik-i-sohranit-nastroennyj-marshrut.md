---
title: Как обновить справочник и сохранить настроенный маршрут
date: 2019-01-23
category: practice
tags:
  - lajfhaki
  - marshrutizatsiya
  - priemy-raboty
  - spravochniki
  - formy
previewImage: directions-from-site.png
previewText: "Бывает, что нужно обновить справочник, по которому настроена маршрутизация. Например, у компании открылись новые офисы или в службе поддержки сформировали отдельную группу для работы с партнерами. Или аналитик меняет «Фидбек» на «Пожелания» в типах заявки. Разберём, как редактировать справочник, чтобы изменения не нарушили маршрутизацию."
author: admin
---
Бывает, что нужно обновить справочник, по которому настроена маршрутизация. Например, у компании открылись новые офисы или в службе поддержки сформировали отдельную группу для работы с партнерами. Или аналитик меняет «Фидбек» на «Пожелания» в типах заявки. Разберём, как редактировать справочник, чтобы изменения не нарушили маршрутизацию.

## Маршрутизация по колонке

Предположим, в форме настроена маршрутизация заявок в зависимости от офиса обслуживания клиента. Если понадобится добавить или удалить офис или переименовать колонку, вы можете быстро поправить справочник через интерфейс. Это не затронет действующую маршрутизацию. Например, мы изменили заголовок колонки «Руководитель» на «Менеджер».

![Фото 1: Редактирование справочника в Пайрус](catalog-edit-header.webp)

Попробуем сделать то же самое c помощью Excel:

1. Экспортируем справочник из [Pyrus](https://pyrus.com/ru/).
2. Изменяем заголовок колонки маршрутизации **Руководитель** → **Менеджер.**
3. Импортируем справочник в Pyrus.

При загрузке из Excel для Pyrus больше нет старой колонки, вместо неё появилась новая. Поэтому увидим предупреждение, что прежняя колонка «Руководитель» будет удалена и маршрутизация перестанет работать:

![Фото 2: Редактирование справочника в Пайрус](catalog-import-alert.webp)

**Рекомендация:** при редактировании справочника с помощью Excel не меняйте название колонки маршрутизации. Это лучше сделать в интерфейсе Pyrus.

## Маршрутизация по элементу справочника

Допустим, в форме для работы с обращениями клиентов настроена условная маршрутизация по типу заявки.

![Фрагмент формы ](workflow-no-ids.webp)

Если вы измените название колонки в Excel и импортируете справочник, то маршрутизация по элементу из этой колонки перестанет работать. А вот менять название колонки при редактировании справочника напрямую в Pyrus можно без проблем.

Если же в справочнике изменили название типа заявки, например, переименовали «Сотрудничество» в «Партнеры», маршрутизация по этому элементу перестанет работать. Неважно, импортировали изменения из Excel файла или обновили заголовок в интерфейсе.

**Рекомендация:** добавьте отдельную колонку и задайте номер (код, идентификатор) для каждого элемента. Затем настройте маршрутизацию по этим номерам. В этом примере мы назначили свой идентификатор для каждого типа заявки.

![Редактирование формы Пайрус](workflow-id-2-1.webp)

Теперь, если кто-то переименует типы заявок, их идентификаторы останутся прежними и маршрутизация продолжит работать как часы.

Возьмите на заметку и добавляйте колонку с идентификатором первой в новые справочники. Кстати, ее [можно скрыть](/ru/help/workflow/catalogs#dobavlenie-i-udalenie-kolonok), чтобы не мешала.